<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Commandes - Pressing Management System</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/base/variables.css">
    <link rel="stylesheet" href="assets/css/base/reset.css">
    <link rel="stylesheet" href="assets/css/base/typography.css">
    <link rel="stylesheet" href="assets/css/layouts/grid.css">
    <link rel="stylesheet" href="assets/css/layouts/responsive.css">
    <link rel="stylesheet" href="assets/css/layouts/sidebar.css">
    <link rel="stylesheet" href="assets/css/components/buttons.css">
    <link rel="stylesheet" href="assets/css/components/cards.css">
    <link rel="stylesheet" href="assets/css/components/forms.css">
    <link rel="stylesheet" href="assets/css/components/modals.css">
    <link rel="stylesheet" href="assets/css/components/tables.css">
    <link rel="stylesheet" href="assets/css/components/toast.css">
    <link rel="stylesheet" href="assets/css/pages/orders.css">
</head>
<body>
    <!-- Overlay pour mobile -->
    <div class="sidebar-overlay" data-action="close-sidebar"></div>

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">ðŸ‘”</div>
                <h1 class="sidebar-logo-text">Pressing Pro</h1>
            </div>
            <button class="sidebar-close" data-action="close-sidebar">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <div class="sidebar-nav-section">
                <h3 class="sidebar-nav-title">Menu Principal</h3>
                <ul class="sidebar-nav-list">
                    <li class="sidebar-nav-item">
                        <a href="/dashboard" class="sidebar-nav-link">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="/orders" class="sidebar-nav-link is-active">
                            <i class="fas fa-shopping-bag"></i>
                            <span>Commandes</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="/customers" class="sidebar-nav-link">
                            <i class="fas fa-users"></i>
                            <span>Clients</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="/tracking" class="sidebar-nav-link">
                            <i class="fas fa-search"></i>
                            <span>Suivi</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="sidebar-nav-section">
                <h3 class="sidebar-nav-title">Gestion</h3>
                <ul class="sidebar-nav-list">
                    <li class="sidebar-nav-item">
                        <a href="/payments" class="sidebar-nav-link">
                            <i class="fas fa-credit-card"></i>
                            <span>Paiements</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="/reports" class="sidebar-nav-link">
                            <i class="fas fa-chart-bar"></i>
                            <span>Rapports</span>
                        </a>
                    </li>
                    <li class="sidebar-nav-item">
                        <a href="/admin" class="sidebar-nav-link">
                            <i class="fas fa-cog"></i>
                            <span>Administration</span>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="sidebar-user" data-action="toggle-user-menu">
                <div class="sidebar-user-avatar">A</div>
                <div class="sidebar-user-info">
                    <div class="sidebar-user-name">Admin User</div>
                    <div class="sidebar-user-role">Administrateur</div>
                </div>
                <div class="sidebar-user-menu">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
            
            <div class="sidebar-user-dropdown">
                <a href="#" class="sidebar-user-dropdown-item">
                    <i class="fas fa-user"></i>
                    <span>Profil</span>
                </a>
                <a href="#" class="sidebar-user-dropdown-item">
                    <i class="fas fa-cog"></i>
                    <span>ParamÃ¨tres</span>
                </a>
                <a href="/logout" class="sidebar-user-dropdown-item danger">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>DÃ©connexion</span>
                </a>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="header-toggle" data-action="toggle-sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 class="header-title">Gestion des Commandes</h1>
            </div>
            
            <div class="header-right">
                <div class="header-actions">
                    <button class="btn btn-primary" data-action="new-order">
                        <i class="fas fa-plus"></i>
                        <span>Nouvelle commande</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <div class="page-content">
            <!-- Filters -->
            <div class="filters-section">
                <div class="filters-grid">
                    <div class="filter-group">
                        <label for="status-filter" class="filter-label">Statut</label>
                        <select id="status-filter" class="form-select">
                            <option value="">Tous les statuts</option>
                            <option value="pending">En attente</option>
                            <option value="processing">En traitement</option>
                            <option value="ready">PrÃªt</option>
                            <option value="completed">TerminÃ©</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="search-input" class="filter-label">Recherche</label>
                        <div class="search-container">
                            <i class="fas fa-search search-icon"></i>
                            <input type="text" id="search-input" class="search-input" placeholder="Rechercher une commande...">
                        </div>
                    </div>
                    
                    <div class="filter-group">
                        <label for="date-filter" class="filter-label">PÃ©riode</label>
                        <select id="date-filter" class="form-select">
                            <option value="all">Toutes les dates</option>
                            <option value="today">Aujourd'hui</option>
                            <option value="week">Cette semaine</option>
                            <option value="month">Ce mois</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Orders Table -->
            <div class="orders-table-container">
                <div class="table-header">
                    <div class="table-info">
                        <span id="orders-count">0</span> commande(s) trouvÃ©e(s)
                    </div>
                    <div class="table-actions">
                        <button class="btn btn-secondary btn-sm" data-action="export-orders">
                            <i class="fas fa-download"></i>
                            <span>Exporter</span>
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>
                                    <input type="checkbox" id="select-all" class="form-checkbox">
                                </th>
                                <th>NÂ° Commande</th>
                                <th>Client</th>
                                <th>Service</th>
                                <th>Montant</th>
                                <th>Statut</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            <!-- Les commandes seront chargÃ©es ici -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Pagination -->
                <div class="pagination">
                    <div class="pagination-info">
                        Affichage de <span id="pagination-start">1</span> Ã  <span id="pagination-end">10</span> 
                        sur <span id="pagination-total">0</span> rÃ©sultats
                    </div>
                    <div class="pagination-controls">
                        <button class="btn btn-secondary btn-sm" id="prev-page" disabled>
                            <i class="fas fa-chevron-left"></i>
                            <span>PrÃ©cÃ©dent</span>
                        </button>
                        <div class="pagination-pages" id="pagination-pages">
                            <!-- Les pages seront gÃ©nÃ©rÃ©es ici -->
                        </div>
                        <button class="btn btn-secondary btn-sm" id="next-page">
                            <span>Suivant</span>
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Order Details Modal -->
    <div class="modal" id="order-details-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">DÃ©tails de la commande</h3>
                <button class="modal-close" data-action="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="order-details">
                    <div class="order-details-section">
                        <h4>Informations gÃ©nÃ©rales</h4>
                        <div class="order-details-grid">
                            <div class="order-detail-item">
                                <label>NÂ° Commande:</label>
                                <span id="modal-order-id">-</span>
                            </div>
                            <div class="order-detail-item">
                                <label>Date:</label>
                                <span id="modal-order-date">-</span>
                            </div>
                            <div class="order-detail-item">
                                <label>Statut:</label>
                                <span id="modal-order-status">-</span>
                            </div>
                            <div class="order-detail-item">
                                <label>Montant:</label>
                                <span id="modal-order-amount">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-details-section">
                        <h4>Informations client</h4>
                        <div class="order-details-grid">
                            <div class="order-detail-item">
                                <label>Nom:</label>
                                <span id="modal-customer-name">-</span>
                            </div>
                            <div class="order-detail-item">
                                <label>TÃ©lÃ©phone:</label>
                                <span id="modal-customer-phone">-</span>
                            </div>
                            <div class="order-detail-item">
                                <label>Adresse:</label>
                                <span id="modal-customer-address">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-details-section">
                        <h4>Services</h4>
                        <div class="order-services" id="modal-order-services">
                            <!-- Les services seront listÃ©s ici -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-action="close-modal">Fermer</button>
                <button class="btn btn-primary" data-action="edit-order">Modifier</button>
            </div>
        </div>
    </div>

    <!-- New Order Modal -->
    <div class="modal" id="new-order-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Nouvelle commande</h3>
                <button class="modal-close" data-action="close-modal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="new-order-form">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="new-customer-name" class="form-label">Nom du client *</label>
                            <input type="text" id="new-customer-name" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-customer-phone" class="form-label">TÃ©lÃ©phone *</label>
                            <input type="tel" id="new-customer-phone" class="form-input" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-customer-address" class="form-label">Adresse</label>
                            <textarea id="new-customer-address" class="form-textarea" rows="2"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-service" class="form-label">Service *</label>
                            <select id="new-service" class="form-select" required>
                                <option value="">SÃ©lectionner un service</option>
                                <option value="nettoyage-sec">Nettoyage Ã  sec</option>
                                <option value="repassage">Repassage</option>
                                <option value="blanchisserie">Blanchisserie</option>
                                <option value="retouche">Retouche</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-amount" class="form-label">Montant *</label>
                            <input type="number" id="new-amount" class="form-input" step="0.01" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="new-notes" class="form-label">Notes</label>
                            <textarea id="new-notes" class="form-textarea" rows="3"></textarea>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-action="close-modal">Annuler</button>
                <button class="btn btn-primary" data-action="save-order">Enregistrer</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- JavaScript -->
    <script type="module" src="assets/js/core/app.js"></script>
</body>
</html> 